var Asas=function(e){var i,t,o,a,s,n,r,d,l,c,p,f,u;i=function(){var i,p,f;for(t=e.pad||"",o=e.dataBits,a=e.codeBits,s=e.keyString,n=e.arrayData,p=Math.max(o,a),f=0,r=[],i=0;p>i;i+=1)r.push(f),f+=f+1;l=f,d=o/c(o,a)},c=function(e,i){for(var t;0!==i;)t=i,i=e%i,e=t;return e},p=function(e,i,o,a){var c,p,f,u,g,y,m,v;for(v=function(e){a?n?m.push(e):m.push(String.fromCharCode(e)):m.push(s.charAt(e))},g=0,y=0,m=[],p=e.length,c=0;p>c;c+=1){if(y+=i,a){if(f=e.charAt(c),u=s.indexOf(f),f===t)break;if(0>u)throw'the character "'+f+'" is not a member of '+s}else if(u=n?e[c]:e.charCodeAt(c),(u|l)!==l)throw u+" is outside the range 0-"+l;for(g=g<<i|u;y>=o;)y-=o,v(g>>y),g&=r[y]}if(!a&&y>0)for(v(g<<o-y);m.length%d>0;)m.push(t);return n&&a?m:m.join("")},f=function(e){return p(e,o,a,!1)},u=function(e){return p(e,a,o,!0)},this.encode=f,this.decode=u,i()};jQuery.noConflict(),function(e){e.fn.droply=function(i){function t(i,t){e("#droply-info-box-"+i).find(".droply-info-internal-content").html(t)}function o(i){y.config.debug&&(e(y.config.targetOutput).is(":visible")?e(".output-list-"+f.attr("id")).append("<li>"+i+"</li>"):(e(y.config.targetOutput).html('<br><ol class="output-list-'+f.attr("id")+'"><li>'+i+"</li></ol>"),e(y.config.targetOutput).delay(300).slideDown()))}function a(e){e.stopPropagation(),e.preventDefault(),f.find("#droply-filedrag-"+f.attr("id")).removeClass("hover").addClass("");var i=e.target.files||e.originalEvent.dataTransfer.files;y.config.chunkUpload?r(i):s(i)}function s(i){var a=i;for(j=0;j<a.length;j++){if(u>=y.config.limitNumberofFiles)return o("You have exceed upload limit ("+u+") !"),!1;if(0!=a[j].length){var s=new FormData;s.append("SelectedFile",a[j]),s.append("action",y.config.action),s.append("closify-id",f.attr("closify-id")),s.append("closify-idx",f.attr("closify-idx")),s.append("fileIndx",u),s.append("nonce",y.config.nonce);var n=y.config.injectPostData;for(var r in n)s.append("droplyPostDataExt["+r+"]",n[r]);y.addFileItem(a[j].name,u);var d=y.beforeSubmit(a[j],u);if(null==p?e("#uploadItem-"+f.attr("id")+"-"+u).find("#mimePicture").addClass("droply-icon-file"):e("#uploadItem-"+f.attr("id")+"-"+u).find("#mimePicture").addClass(p),1==d.status){var l=new XMLHttpRequest;y.config.request[u]=l,y.config.request[u].index=u,y.config.request[u].cachedData=s,y.config.request[u].onreadystatechange=function(){if(4==this.readyState){e("#uploadItem-"+f.attr("id")+"-"+this.index).find(".droply-loading").css("display","block"),e("#uploadItem-"+f.attr("id")+"-"+this.index).find(".droply-ready").hide();try{var i=JSON.parse(this.response);"true"==i.status?(i.attid&&f.find("#file-"+this.index+"-"+f.attr("id")).val(i.attid),y.tagItemSuccess(this.index,!0,i.data),null!=i.newFileName&&e("#"+this.index+"-fileName").text(i.newFileName),null!=i.fullPath&&e("#preview-"+f.attr("id")+"-"+this.index).attr("link",i.fullPath),1==y.config.disablePostProgressAnimation&&(1==y.config.disablePostProgressAnimation&&f.find("#progress-style-"+f.attr("id")+"-"+this.index).addClass("droply-nostripes"),f.find("#progress-style-"+f.attr("id")+"-"+this.index).addClass("droply-nostripes")),y.config.successfulUpload(i)):(y.tagItemSuccess(this.index,!1,i.error),y.config.failedUpload(i),t(this.index,i.error))}catch(o){i={status:"error",msg:"Response string format is not a valid JSON: ["+this.responseText+"]"},y.tagItemSuccess(this.index,!1,i.msg)}}},y.config.request[u].upload.index=u,y.config.request[u].upload.addEventListener("progress",function(i){var t=i.loaded/i.total*100,o=this.index;e("#massUploadProgress-"+f.attr("id")+"-"+this.index).css("width",t+"%"),t>=100&&!y.config.disableRemovingItems&&setTimeout(function(){y.deleteItem(o)},y.config.delay)},!1),y.config.enforceInfo||(y.config.request[u].open(y.config.type,y.config.url),y.config.request[u].send(s)),u++}else y.tagItemSuccess(u,!1,d.responseText),u++}}return 0}function n(e){var i=y.bytesToSizeClass(e),t=y.config.maxUploadSize,o=Math.ceil(i.size/100);return"bytes"==i.type?t=i.size/2:"KB"==i.type?(t=i.size/5,t=1024*t):"MB"==i.type&&i.size<60?(t=i.size/5/o,t=1024*t*1024):"GB"==i.type?t=y.config.maxUploadSize:"TB"==i.type&&(t=y.config.maxUploadSize),Math.ceil(t)}function r(i){var a=i;for(j=0;j<a.length;j++){if(u>=y.config.limitNumberofFiles)return o("You have exceed upload limit ("+u+") !"),!1;if(0!=a[j].length){y.addFileItem(a[j].name,u);var s=y.beforeSubmit(a[j],u);if(null==p?e("#uploadItem-"+f.attr("id")+"-"+u).find("#mimePicture").addClass("droply-icon-file"):e("#uploadItem-"+f.attr("id")+"-"+u).find("#mimePicture").addClass(p),1==s.status){var r=new XMLHttpRequest;y.config.request[u]=r,chunkSize=n(a[j].size),y.config.request[u]=r,y.config.request[u].file=a[j],y.config.request[u].file_size=a[j].size,y.config.request[u].chunk_size=chunkSize,y.config.request[u].range_start=0,y.config.request[u].range_end=y.config.request[u].chunk_size,y.config.request[u].is_paused=!1,y.config.request[u].chunks=Math.ceil(a[j].size/chunkSize),y.config.request[u].counter=1,"mozSlice"in a[j]?y.config.request[u].slice_method="mozSlice":"webkitSlice"in a[j]?y.config.request[u].slice_method="webkitSlice":y.config.request[u].slice_method="slice",y.config.request[u].index=u,y.config.request[u].onreadystatechange=function(){if(4==this.readyState){e("#uploadItem-"+f.attr("id")+"-"+this.index).find(".droply-loading").css("display","block"),e("#uploadItem-"+f.attr("id")+"-"+this.index).find(".droply-ready").hide();try{var i=this.counter/this.chunks*100,o=this.index;i>100&&(i=100),30>i?e("#massUploadProgress-"+f.attr("id")+"-"+this.index).animate({width:i+"%"},y.config.progressSpeed):e("#massUploadProgress-"+f.attr("id")+"-"+this.index).animate({width:i+"%"},y.config.progressSpeed),i>=100&&!y.config.disableRemovingItems&&setTimeout(function(e){y.deleteItem(o)},y.config.delay);var a=JSON.parse(this.response);if(this.range_end!==this.file_size&&"true"==a.status&&(this.range_start=this.range_end,this.range_end=this.range_start+this.chunk_size,!this.is_paused))return void l(this,"","");"true"!=a.status&&f.find("#progress-style-"+f.attr("id")+"-"+this.index).addClass("droply-nostripes"),this.range_end===this.file_size||"true"!=a.status?"true"==a.status?(a.attid&&f.find("#file-"+this.index+"-"+f.attr("id")).val(a.attid),y.tagItemSuccess(this.index,!0,a.data),null!=a.newFileName&&e("#"+this.index+"-fileName").text(a.newFileName),null!=a.fullPath&&e("#preview-"+f.attr("id")+"-"+this.index).attr("link",a.fullPath),1==y.config.disablePostProgressAnimation&&(1==y.config.disablePostProgressAnimation&&f.find("#progress-style-"+f.attr("id")+"-"+this.index).addClass("droply-nostripes"),f.find("#progress-style-"+f.attr("id")+"-"+this.index).addClass("droply-nostripes")),"true"==y.config.enforceInfo&&f.find("#upload-button-"+this.index+"-"+f.attr("id")).remove(),y.config.successfulUpload(a)):(y.tagItemSuccess(this.index,!1,a.error),y.config.failedUpload(a),t(this.index,a.error)):"false"==a.status&&(y.tagItemSuccess(this.index,!1,a.error),y.config.failedUpload(a),t(this.index,a.error))}catch(s){a={status:"error",msg:"Response string format is not a valid JSON: ["+this.responseText+"]"},y.tagItemSuccess(this.index,!1,a.msg)}}},y.config.request[u].upload.index=u,y.config.enforceInfo||(e("#massUploadProgress-"+f.attr("id")+"-"+u).animate({width:"1%"},y.config.progressSpeed),l(y.config.request[u],"","")),u++}else y.tagItemSuccess(u,!1,s.responseText),u++}}return 0}function d(i,t,o){1==y.config.devDebug&&console.log("Request["+i+"] has started"),y.config.chunkUpload?(e("#massUploadProgress-"+f.attr("id")+"-"+i).animate({width:"10%"},y.config.progressSpeed),l(y.config.request[i],t,o)):(y.config.request[i].open(y.config.type,y.config.url),y.config.request[i].send(y.config.request[i].cachedData),y.config.request[i]="invalid")}function l(e,i,t){var o=e;o.timerLoop=setTimeout(function(){"true"!=y.config.enforceInfo?c(o,"",""):c(o,i,t)},20)}function c(i,t,o){i.range_end>i.file_size&&(i.range_end=i.file_size);var a=i.file[i.slice_method](i.range_start,i.range_end),s=new FormData;if(s.append("action",y.config.action),s.append("closify-id",f.attr("closify-id")),s.append("closify-idx",f.attr("closify-idx")),s.append("fileIndx",i.index),s.append("nonce",y.config.nonce),s.append("file-name",i.file.name),s.append("file-type",i.file.type),s.append("file-size",i.file.size),s.append("chunk-upload","true"),s.append("chunk",i.counter),s.append("chunks",i.chunks),s.append("file",a),i.counter==i.chunks){var n=y.config.injectPostData;for(var r in n)s.append("droplyPostDataExt["+r+"]",n[r])}if("true"==y.config.enforceInfo){var d=e("#uploadItem-"+f.attr("id")+"-"+i.index).find('input[name="droply-title"]'),l=e("#uploadItem-"+f.attr("id")+"-"+i.index).find('textarea[name="droply-desc"]'),t=d.val(),o=l.val();s.append("title",t),s.append("desc",o)}i.open(y.config.type,y.config.url,!0),i.overrideMimeType("application/octet-stream"),0!==i.range_start&&i.setRequestHeader("Content-Range","bytes "+i.range_start+"-"+i.range_end+"/"+i.file_size),i.send(s),i.counter++}var p,f=this,u=0,g=new Asas({dataBits:8,codeBits:6,keyString:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pad:"="}),y={init:function(){y.config=e.extend({allowedFileSize:10485760,delay:5e3,progressSpeed:10,multi:!0,request:[],url:"processMultipleUploads.php",dataType:"json",limitNumberofFiles:10,required:"false",formRequired:"false",enforceInfo:!1,enterTitleLbl:"Enter Upload Title",enterDescLbl:"Enter Upload Description",enterEmailLbl:"Enter your email",enterName:"Enter your name",label:"Allowed file types are gif, jpg, and png.",dropBox:{title:"Drop files here",height:100,fontSize:26},stableUploadLbl:"Everything going well so far!",uploadBtnLbl:"Upload",previewBtnLbl:"Preview",deleteBtnLbl:"Delete",deleteConfirmLbl:"Are you sure you want to delete the file?",backgroundIcon:"",chunkSize:5242880,maxUploadSize:16777216,chunkUpload:!0,debug:!1,dragDrop:!0,circularDropbox:!1,theme:"simplex",targetOutput:".output",type:"post",devDebug:!1,nonce:"",disablePreview:!1,disablePostProgressAnimation:!0,disableRemovingItems:!0,backgroundColor:"",logoColor:"rgb(150, 155, 255)",textColor:"#DADADA",borderColor:"#DADADA",labelColor:"rgb(90, 90, 90)",progressBarColor:"orange",action:"itech_droply_submission",beforeSubmit:y.beforeSubmit,successfulUpload:y.successfulUpload,failedUpload:y.failedUpload,fileDeleted:y.fileDeleted,injectPostData:y.injectPostData},i),y.Setup(),e(y.config.targetOutput).hide()},Setup:function(){var e="",i="",t="",o="",a="",s="",n="";""!=y.config.backgroundIcon?(a="; background-image: url("+y.config.backgroundIcon+"); background-size: auto; background-position: 50% 20%; background-repeat: no-repeat;",n=";padding-top:"+y.config.dropBox.height+"px;"):s='<span class="droply-showcase droply-icon droply-icon-cloud-storage" style="color:'+y.config.logoColor+'"></span>',y.config.multi&&(e="multiple"),"false"!=y.config.dragDrop&&(i="opacity:0"),"true"==y.config.circularDropbox&&(t="droply-circular-dropbox"),"true"==y.config.formRequired&&(o="required");var r="",d='<p class="droply-label" style="color:'+y.config.labelColor+'">'+y.config.label+"</p>",l='<input class="droply-multi-file-input" type="file" style="'+i+'" name="files[]" id="'+f.attr("id")+'-droply-files" '+e+" "+o+">",c='<div><div id="droply-filedrag-'+f.attr("id")+'" class="droply-filedrag '+t+'" style="color: '+y.config.textColor+";border: 5px dashed "+y.config.borderColor+";"+a+'">'+s+'<br/><div style="'+n+";font-size:"+y.config.dropBox.fontSize+'px" class="droply-box-label" id="box-label-'+f.attr("id")+'" >'+y.config.dropBox.title+"</div>"+l+"</div><br/>"+d+"</div>",p='<div id="'+f.attr("id")+'-ListItem" class="droply-multi-images"></div>';f.addClass("droply-multiple-upload"),"false"!=y.config.dragDrop?f.html(r+c+p):f.html(r+l+p)},bytesToSize:function(e){var i=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+i[t]},bytesToSizeClass:function(e){var i=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024))),o={size:Math.round(e/Math.pow(1024,t),2),type:i[t]};return o},successfulUpload:function(e){},failedUpload:function(e){},injectPostData:function(){},fileDeleted:function(i){i.fileIdx;e.ajax({url:y.config.url,type:"POST",data:i,success:function(e){o(e)}})},beforeSubmit:function(e,i){var t=[],o=navigator.userAgent.indexOf("Chrome")>-1,a=navigator.userAgent.indexOf("Safari")>-1;if(o&&a&&(a=!1),window.File&&window.FileReader&&window.FileList&&window.Blob){var s=e.size,n=e.type;switch(n){case"application/octet-stream":case"application/postscript":case"image/png":case"image/gif":case"image/jpeg":case"image/pjpeg":case"image/x-png":case"image/jpg":case"image/x-windows-bmp":case"image/bmp":case"image/tiff":case"image/x-tiff":case"image/svg+xml":p="droply-icon-photo";break;case"audio/aac":case"audio/mp4":case"audio/mp3":case"audio/ogg":case"audio/wav":case"audio/webm":p="droply-icon-music";break;case"video/mp4":case"video/ogg":case"video/webm":case"video/avi":case"video/mkv":case"video/x-matroska":p="droply-icon-video2";break;case"application/x-zip-compressed":case"application/zip":case"application/x-rar-compressed":p="droply-icon-wallet";break;default:p="droply-icon-file"}return s>y.config.allowedFileSize?(t.status=!1,t.responseText=y.bytesToSize(s)+": The file size has exceeded the limit ("+y.config.allowedFileSize/1024/1024+"MB) !",t):(t.status=!0,t)}return t.status=!1,t.responseText="Please upgrade your browser, because your current browser lacks some new features we need!",t},deleteItem:function(i){var t={"droply-id":f.attr("id"),command:"delete",droplyfn:g.encode(f.find("#"+i+"-fileName").text()),fileIndx:i,action:y.config.action,nonce:y.config.nonce,raqmkh:g.encode(f.find("#file-"+i+"-"+f.attr("id")).val())};y.config.fileDeleted(t),e("#uploadItem-"+f.attr("id")+"-"+i).addClass("droply-animated bounceOutRight"),setTimeout(function(t){e("#uploadItem-"+f.attr("id")+"-"+i).remove()},600)},addFileItem:function(i,t){var o="",a="",s="";y.config.disablePreview||(a='<a rel="external" link="" id="preview-'+f.attr("id")+"-"+t+'" index="'+t+'" class="droply-preview"><span class="droply-icon droply-icon-earth" title="'+y.config.previewBtnLbl+'"></span></a>',s='<a class="droply-button droply-preview" index="'+t+'" >'+y.config.previewBtnLbl+"</a>"),"true"==y.config.required&&(o="required");var n='<input type="hidden" id="file-'+t+"-"+f.attr("id")+'" name="image-id[]" value="" />',r='<div id="droply-info-box-'+t+'" class="droply-info-box"><div class="droply-info-p"><a class="droply-close" index="'+t+'"><span class="droply-info-close droply-icon droply-icon-delete"></span></a><div class="droply-info-internal-content">'+y.config.stableUploadLbl+'</div></div><div class="droply-pointer"></div></div>',l='<div class="clearfix droply-form-container"><input class="droply-input" type="text" name="droply-title" placeholder="'+y.config.enterTitleLbl+'" '+o+'/><br><textarea rows="2" class="droply-input" type="textarea" name="droply-desc" placeholder="'+y.config.enterDescLbl+'" '+o+'/><a class="droply-button droply-upload noselect" id="upload-button-'+t+"-"+f.attr("id")+'" index="'+t+'">'+y.config.uploadBtnLbl+'</a><a class="droply-button droply-delete noselect" id="'+t+'">'+y.config.deleteBtnLbl+"</a>"+s+"</div>";y.config.enforceInfo||(l="");var c='<a class="info-icon" index="'+t+'"><span class="droply-info-icon droply-icon droply-icon-info" ></span></a>',p='<a class="info-icon" index="'+t+'" title="Information Button"><span class="droply-icon droply-icon-info-large"></span></a>',u='<div id="uploadItem-'+f.attr("id")+"-"+t+'" class="droply-default-theme"><div class="droply-oval"><span class="droply-ready droply-icon droply-icon-plus" style="margin-top:35px;"></span><span class="droply-loading droply-icon droply-icon-spinner"></span><div id="mass-item-success-'+f.attr("id")+"-"+t+'" class="notification-oval"><ul class="droply-oval-list-info" id="mass-item-oval-info-'+f.attr("id")+"-"+t+'"><li class="droply-tick-text"  id="mass-item-success-text-'+f.attr("id")+"-"+t+'" style=";color:white;font-family:cursive;font-size:10px;color:white;list-style:none"></li></li></ul></div></div><div class="droply-list-div noselect" style="background-color:'+y.config.backgroundColor+'" >'+n+'<div><div class="droply-list-icon droply-left"><span id="mimePicture" class="droply-icon" style="font-size:40px"></span></div><div class="progress-container droply-right"><div id="progress-style-'+f.attr("id")+"-"+t+'" class="droply-meter '+y.config.progressBarColor+' droply-right"><span id="massUploadProgress-'+f.attr("id")+"-"+t+'" style="width: 0%;" class="droply-span-progress"></span></div><div id="'+t+'-fileName" class="droply-filename">'+i+'</div><div class="droply-list-menu droply-right"><ul><li><a class="droply-delete" id="'+t+'"><span class="droply-icon droply-icon-remove" title="'+y.config.deleteBtnLbl+'"></span></a>&nbsp;'+a+"</li></ul></div></div>"+c+"</div></div>"+l+"</div>",g='<div id="uploadItem-'+f.attr("id")+"-"+t+'" class="theme-1"><div class="droply-list-div noselect" style="background-color:'+y.config.backgroundColor+'">'+n+'<div><div class="progress-container droply-left"><div id="progress-style-'+f.attr("id")+"-"+t+'" class="droply-meter '+y.config.progressBarColor+' droply-left"><span id="massUploadProgress-'+f.attr("id")+"-"+t+'" style="width: 0%;" class="droply-span-progress"></span></div><div id="'+t+'-fileName" class="droply-filename">'+i+'</div></div><div class="droply-list-menu droply-right"><ul><li><a class="droply-delete" id="'+t+'"><span class="droply-icon droply-icon-remove" title="'+y.config.deleteBtnLbl+'"></span></a>&nbsp;'+a+"&nbsp;"+p+'<div class="droply-oval"><span class="droply-ready droply-icon droply-icon-plus"></span><span class="droply-loading droply-icon droply-icon-spinner" style="display: none;"></span><div id="mass-item-success-'+f.attr("id")+"-"+t+'" class="notification-oval" style="margin-top: 1px"><ul class="droply-oval-list-info" id="mass-item-oval-info-'+f.attr("id")+"-"+t+'"></ul></div></div></li></ul></div><div class="droply-list-icon droply-right"><span id="mimePicture" class="droply-icon" style="font-size:40px"></span></div></div></div>'+l+"</div>",m='<div id="uploadItem-'+f.attr("id")+"-"+t+'" class="theme-2"><div class="droply-list-div noselect" style="background-color:'+y.config.backgroundColor+'">'+n+'<div><div class="progress-container droply-left"><div id="progress-style-'+f.attr("id")+"-"+t+'" class="droply-meter '+y.config.progressBarColor+' droply-right"><span id="massUploadProgress-'+f.attr("id")+"-"+t+'" style="width: 0%;" class="droply-span-progress"></span></div><div id="'+t+'-fileName" class="droply-filename">'+i+'</div></div><div class="droply-list-menu droply-right"><ul><li><a class="droply-delete" id="'+t+'"><span class="droply-icon droply-icon-remove" title="'+y.config.deleteBtnLbl+'"></span></a>&nbsp;'+a+'<a class="info-icon" index="'+t+'" title="Information Button"><span class="droply-icon droply-icon-info-large"></span></a><div class="droply-oval"><span class="droply-ready droply-icon droply-icon-plus"></span><span class="droply-loading droply-icon droply-icon-spinner" style="display: none;"></span><div id="mass-item-success-'+f.attr("id")+"-"+t+'" class="notification-oval"><ul class="droply-oval-list-info" id="mass-item-oval-info-'+f.attr("id")+"-"+t+'"></ul></div></div></li></ul></div></div></div>'+l+"</div>",v=g;switch(y.config.theme){case"default":v=u;break;case"simplex":v=g;break;case"super-simplex":v=m;break;default:v=g}e("#"+f.attr("id")+"-ListItem").prepend(v),jQuery("body").prepend(r),y.config.enforceInfo||(e("#uploadItem-"+f.attr("id")+"-"+t).find(".droply-loading").css("display","block"),e("#uploadItem-"+f.attr("id")+"-"+t).find(".droply-ready").hide());var h=e("#uploadItem-"+f.attr("id")+"-"+t).find(".droply-oval").height()-e("#mass-item-success-"+f.attr("id")+"-"+t).height();e("#mass-item-success-"+f.attr("id")+"-"+t).css("margin-top",h/2+"px"),e("#uploadItem-"+f.attr("id")+"-"+t).find("a.droply-delete").click(function(){var i=confirm(y.config.deleteConfirmLbl);if(i){var t=e(this).attr("id");y.deleteItem(t)}});var b,x;"default"==y.config.theme?(x=-35,b=25):(x=25,b=-100),e("#uploadItem-"+f.attr("id")+"-"+t).find("a.info-icon").click(function(i){e("#droply-info-box-"+t).css("top",i.pageY+x),e("#droply-info-box-"+t).css("left",i.pageX+b),e("#droply-info-box-"+t).slideDown()}),e("#droply-info-box-"+t).find("a.droply-close").click(function(i){var t=e(this).attr("index");e("#droply-info-box-"+t).slideUp()}),e(document).mouseup(function(i){var t=e(".droply-info-box");t.is(i.target)||0!==t.has(i.target).length||t.hide()}),e("#uploadItem-"+f.attr("id")+"-"+t).find("a.droply-preview").click(function(){var i=e(this).attr("index");""!=e("#preview-"+f.attr("id")+"-"+i).attr("link")&&window.open(e("#preview-"+f.attr("id")+"-"+i).attr("link"),"_blank")}),y.config.enforceInfo&&e("#uploadItem-"+f.attr("id")+"-"+t).find("a.droply-upload").click(function(){1==y.config.devDebug&&(console.log("Upload["+i+"] initiated by upload click"),console.log(y.config.request));var i=e(this).attr("index"),t=e("#uploadItem-"+f.attr("id")+"-"+i).find('input[name="droply-title"]'),o=e("#uploadItem-"+f.attr("id")+"-"+i).find('textarea[name="droply-desc"]'),a=t.val(),s=o.val();return"undefined"==typeof a||""==a&&"true"==y.config.required?(e(t).focus(),!1):"undefined"==typeof s||""==s&&"true"==y.config.required?(e(o).focus(),!1):void(null!=y.config.request[i]?(1==y.config.devDebug&&console.log("Upload["+i+"] started"),d(i,a,s)):1==y.config.devDebug&&console.log("droply.config.request["+i+"] already uploaded"))}),e("div.droply-list-div").click(function(e){e.preventDefault()})},tagItemSuccess:function(i,a,s){e("#uploadItem-"+f.attr("id")+"-"+i).find(".droply-loading").hide(),1==y.config.devDebug&&console.log("Success tag = ["+a+"]"),a||e("#uploadItem-"+f.attr("id")+"-"+i).find(".droply-ready").hide();var n;a?(e("#uploadItem-"+f.attr("id")+"-"+i).find(".droply-preview").fadeIn(),e("#uploadItem-"+f.attr("id")+"-"+i).find(".droply-delete").fadeIn(),n='<li class="droply-icon droply-icon-tick center-icon" style="font-size:18px;color:white"></li>'):(n='<li class="droply-icon droply-icon-times center-icon" style="font-size:18px;color:white"></li>',t(i,s)),"true"!=e("#mass-item-success-"+f.attr("id")+"-"+i).attr("updated")&&(e("#mass-item-oval-info-"+f.attr("id")+"-"+i).prepend(n),e("#mass-item-success-"+f.attr("id")+"-"+i).attr("title",s),e("#uploadItem-"+f.attr("id")+"-"+i).attr("title",s),e("#mass-item-success-"+f.attr("id")+"-"+i).addClass("droply-animated "+(a?"flipNotificationSuccess":"flipNotificationError")),e("#mass-item-success-text-"+f.attr("id")+"-"+i).html(a?"Succeed":"Failed"),e("#mass-item-success-"+f.attr("id")+"-"+i).attr("updated","true"),o(s))},fileDragHover:function(e){e.stopPropagation(),e.preventDefault(),f.find("#droply-filedrag-"+f.attr("id")).removeClass("hover").addClass("dragover"==e.type?"hover":"")}};y.init();var m=f.find("#droply-filedrag-"+f.attr("id"));m.on("dragover",y.fileDragHover),m.on("dragleave",y.fileDragHover),m.on("drop",a),m.css("display","block"),m.click(function(i){var t=i.target.id;t=="droply-filedrag-"+f.attr("id")&&e("input[id="+f.attr("id")+"-droply-files]").click()}),this.find("input[type=file]").change(function(){y.config.chunkUpload?r(this.files):s(this.files)})}}(jQuery);